<div class="header pt-4">
    <div class="container-fluid">
        <div class="row pt-3 pl-2 main">
                <h2>CURRENT ONBOARDING LIST</h2>
        </div>
   
        <section class="content m-2">
            <div class="row">
                <div class="col-lg-4 col-6">
                    <!-- small box -->
                    <div class="small-box" style="background-color: #49274A; color: #c2c7d0;">
                        <div class="inner">
                            <h3>{{totalCounts.total_onboardings}}</h3>
        
                            <p>Total Onboardings</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-bag"></i>
                        </div>
                        <a routerLink="/reports" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 col-6">
                    <!-- small box -->
                    <div class="small-box" style="background-color: #49274A; color: #c2c7d0;">
                        <div class="inner">
                            <h3>{{totalCounts.onboardings_status_0}}</h3>
        
                            <p>Total Complete</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-bag"></i>
                        </div>
                        <a routerLink="/reports" class="small-box-footer">More info <i
                                class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 col-6">
                    <!-- small box -->
                    <div class="small-box" style="background-color: #49274A; color: #c2c7d0;">
                        <div class="inner">
                            <h3>{{totalCounts.pending_onboardings}}</h3>
        
                            <p>Total Pending</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-bag"></i>
                        </div>
                        <a routerLink="/reports" class="small-box-footer">More info <i
                                class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
            </div>
            <div style="display: flex; justify-content: right;">
                <button type="button" class="btn action-button" (click)="startOnboard()">
                    Start New Onboarding
                </button>
            </div>
        </section>
        <section class="content  m-2">
            <div>
                <accordion [isAnimated]="true">
                    <accordion-group heading="Filter" [isOpen]=true>
                        <form [formGroup]="filterForm">
                            <label for="date-range">Date Range</label>
                            <input id="date-range" type="text" placeholder="Select the dates to filter"
                                class="form-control col-md-2" formControlName="dates" bsDaterangepicker
                                [bsConfig]="{ adaptivePosition: true, ranges:ranges, containerClass:'theme-default',isAnimated: true, showWeekNumbers:false }"
                                (bsValueChange)="onValueChange($event)">
                        </form>
                        <div class="row">
                            <div style="padding: 15px 8px;">
                                <button type="submit" class="btn" [disabled]="!filterForm.valid"
                                    (click)="onFilter()">
                                    Filter
                                </button>
                            </div>
                        </div>
                    </accordion-group>
                </accordion>
            </div>
        </section>
        <!-- <section class="content m-2">
            <ag-grid-angular style="width: 100%; height: 622px;" class="ag-theme-alpine" [rowData]="rowData"
                [columnDefs]="columnDefs" [gridOptions]="gridOptions" [frameworkComponents]="frameworkComponents"
                (gridReady)="onGridReady($event)">
            </ag-grid-angular>
        </section> -->
        <section style="font-family: Arial, sans-serif;">

            <table style="width: 97%; border-collapse: collapse;margin: 10px;">
                <thead>
                    <tr style="background-color: #f2f2f2;">
                        <th style="padding: 8px; border: 1px solid #ddd;">Date</th>
                        <th style="padding: 8px; border: 1px solid #ddd;">Employee Name</th>
                        <th style="padding: 8px; border: 1px solid #ddd;">Employment Start Date</th>
                        <th style="padding: 8px; border: 1px solid #ddd;">Status</th>
                        <th style="padding: 8px; border: 1px solid #ddd;">% Completed</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let employee of employees" style="border: 1px solid #ddd;">
                        <td style="padding: 8px; border: 1px solid #ddd;">{{ employee.Date }}</td>
                        <td style="padding: 8px; border: 1px solid #ddd;">{{ employee.EmployeeName }}</td>
                        <td style="padding: 8px; border: 1px solid #ddd;">{{ employee.StartDate }}</td>
                        <td style="padding: 8px; border: 1px solid #ddd;">{{ employee.status }}</td>
                        <td style="padding: 8px; border: 1px solid #ddd; position: relative;" [style.background-color]="getBackgroundColor(employee.Completed)">
                            <span (click)="navigateToDetailsPage(employee)" class="fa fa-info-circle" style="cursor: pointer;"></span>
                            {{ employee.Completed }} 
                        </td>
                        
                    </tr>
                </tbody>
            </table>
        
        </section>
        
    </div>
    </div>


